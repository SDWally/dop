# 闭包

- from https://haicoder.net/python/python-closure.html

## 

- 闭包就是一个 函数 和与其相关的引用环境组合的一个整体。

- 在 Python 中，闭包也被称为闭包函数或者闭合函数。
- 与 局部函数 类似，不同之处在于，闭包中外部函数返回的不是一个具体的值，而是一个函数。
- 一般情况下，返回的函数会赋值给一个 变量，这个变量可以在后面被继续执行调用。

## 闭包记忆效应

- 在 Python 中，被捕获到闭包中的变量让闭包本身拥有了记忆效应，
- 闭包中的逻辑可以修改闭包捕获的变量，变量会跟随闭包生命期一直存在，闭包本身就如同变量一样拥有了记忆功能。

```
print("嗨客网(www.haicoder.net)")
def add_upper():
    n = 20
    def add(x):
        nonlocal n
        n = n + x
        return n
    return add
# Python 闭包记忆效应，实现累加
f = add_upper()
print("闭包返回：", f(1))
print("闭包返回：", f(2))
print("闭包返回：", f(3))
```
