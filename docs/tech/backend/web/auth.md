# 前后端常见登录态

- from https://zhuanlan.zhihu.com/p/591434948

## 基本方法

- HTTP基本认证
- Cookie和Session认证
- Token认证
- 单点登录认证

## HTTP基本认证

客户端向服务端请求需要登录态的数据
服务端向客户端返回401状态码，要求客户端验证
客户端根据返回的 WWW-Authenticate: Basic realm="qq.com"，弹出用户名和密码输入框要求用户进行验证。
用户输入用户名和密码后，客户端将用户名及密码以 Base64 格式发送给服务端。
服务端验证通过后返回用户数据。
这是一种比较简单的验证用户身份的方式，甚至不需要写代码，只要后端服务器配置一下即可。

优点：兼容性好，主流浏览器都支持

缺点：

不安全，账号密码是Base64编码，很容易解码。
无法主动注销，除非关闭标签或浏览器。

## Cookie和Session认证

客户端向服务端发送认证信息（例如账号密码）
服务端根据客户端提供的认证信息执行验证逻辑，如果验证成功则生成Session并保存，同时通过响应头Set-Cookie字段返回对应的SessionID
客户端再次请求并在Cookie里携带SessionID。
服务端根据SessionID查找对应的Session，并根据业务逻辑返回相应的数据。
2.4 Cookie和Session认证优点
Cookie由客户端管理，支持设定有效期、安全加密、防篡改、请求路径等属性。
Session由服务端管理，支持有效期，可以存储各类数据。
2.4 Cookie和Session认证缺点
Cookie只能存储字符串，有大小和数量限制，对移动APP端支持不好，同时有跨域限制（主域不同）。
Session存储在服务端，对服务端有性能开销，客户端量太大会影响性能。如果集中存储（如存储在Redis），会带来额外的部署维护成本。

## Token认证

